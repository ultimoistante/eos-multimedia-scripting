<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>EOSKernel: EOSLuaEnvironment Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>EOSLuaEnvironment Class Reference</h1><!-- doxytag: class="EOSLuaEnvironment" -->This class wraps the Lua interpreter environment instance.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="EOSLuaEnvironment_8h-source.html">EOSLuaEnvironment.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#9d99c0b601ab2e3e86c11b7410a00d26">EOSLuaEnvironment</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor  <a href="#9d99c0b601ab2e3e86c11b7410a00d26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#d57156a90aff28c59db3fc756bed0d94">~EOSLuaEnvironment</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">destructor  <a href="#d57156a90aff28c59db3fc756bed0d94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#50fa986c464d28a30c07178165a9aa8c">init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">initializes Lua interpreter environment  <a href="#50fa986c464d28a30c07178165a9aa8c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#30d30f126d7c66533bfc73cc580ea9de">destroy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">closes Lua interpreter environment  <a href="#30d30f126d7c66533bfc73cc580ea9de"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#c1657fa448dfda93c41f1a09a77aa91e">runFile</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">executes a Lua source, from a regular file  <a href="#c1657fa448dfda93c41f1a09a77aa91e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#2c229ac186b5df733a1b2177fd7218aa">runBuffer</a> (const unsigned char *bufferPtr, size_t bufferSize, const char *bufferName=NULL)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">executes a Lua source, from a memory buffer  <a href="#2c229ac186b5df733a1b2177fd7218aa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#dad2df9fe00ab74fa40f61e65b64d041">callFunction</a> (int nArgs, int nReturns=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calls a Lua function loaded in Lua stack  <a href="#dad2df9fe00ab74fa40f61e65b64d041"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#f0ec64cece3cb022704af6aab5377bbf">getLuaValueAsString</a> (const char *luaVarName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns a value from Lua runtime, in string format  <a href="#f0ec64cece3cb022704af6aab5377bbf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">lua_State *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#f0e9201ab81ce4be089f0f99197a06b1">getLuaState</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the pointer to the Lua interpreter environment.  <a href="#f0e9201ab81ce4be089f0f99197a06b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#b56241a405c111658211cab0706fff71">isOk</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if the VM is OK and can be still used.  <a href="#b56241a405c111658211cab0706fff71"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#cfd50ba33863147fab881765110410c0">vmPanic</a> (lua_State *lua)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">emergency method called in case of Lua interpreter panic  <a href="#cfd50ba33863147fab881765110410c0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">lua_State *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#0658d1e689f5a6cccdf4456a6a938b6f">luaState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lua interpreter environment.  <a href="#0658d1e689f5a6cccdf4456a6a938b6f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#575f4654bd2650a110661fd4e4d56a6d">allOk</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sanity-status flag  <a href="#575f4654bd2650a110661fd4e4d56a6d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#8d4d4493b7762dc75eedcd5c5313b472">handleError</a> (lua_State *lua, int errorCode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this function dumps detailed runtime Lua errors on stderr  <a href="#8d4d4493b7762dc75eedcd5c5313b472"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEOSLuaEnvironment.html#38958bc6b0b6e68b9a66b6e9ff21f5ec">tempValueString</a> [1024]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">temporary buffer used by getLuaValueAsString  <a href="#38958bc6b0b6e68b9a66b6e9ff21f5ec"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class wraps the Lua interpreter environment instance. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9d99c0b601ab2e3e86c11b7410a00d26"></a><!-- doxytag: member="EOSLuaEnvironment::EOSLuaEnvironment" ref="9d99c0b601ab2e3e86c11b7410a00d26" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EOSLuaEnvironment::EOSLuaEnvironment           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor 
<p>

</div>
</div><p>
<a class="anchor" name="d57156a90aff28c59db3fc756bed0d94"></a><!-- doxytag: member="EOSLuaEnvironment::~EOSLuaEnvironment" ref="d57156a90aff28c59db3fc756bed0d94" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EOSLuaEnvironment::~EOSLuaEnvironment           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
destructor 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="50fa986c464d28a30c07178165a9aa8c"></a><!-- doxytag: member="EOSLuaEnvironment::init" ref="50fa986c464d28a30c07178165a9aa8c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EOSLuaEnvironment::init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
initializes Lua interpreter environment 
<p>

</div>
</div><p>
<a class="anchor" name="30d30f126d7c66533bfc73cc580ea9de"></a><!-- doxytag: member="EOSLuaEnvironment::destroy" ref="30d30f126d7c66533bfc73cc580ea9de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EOSLuaEnvironment::destroy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
closes Lua interpreter environment 
<p>

</div>
</div><p>
<a class="anchor" name="c1657fa448dfda93c41f1a09a77aa91e"></a><!-- doxytag: member="EOSLuaEnvironment::runFile" ref="c1657fa448dfda93c41f1a09a77aa91e" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EOSLuaEnvironment::runFile           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
executes a Lua source, from a regular file 
<p>

</div>
</div><p>
<a class="anchor" name="2c229ac186b5df733a1b2177fd7218aa"></a><!-- doxytag: member="EOSLuaEnvironment::runBuffer" ref="2c229ac186b5df733a1b2177fd7218aa" args="(const unsigned char *bufferPtr, size_t bufferSize, const char *bufferName=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EOSLuaEnvironment::runBuffer           </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>bufferPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>bufferName</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
executes a Lua source, from a memory buffer 
<p>

</div>
</div><p>
<a class="anchor" name="dad2df9fe00ab74fa40f61e65b64d041"></a><!-- doxytag: member="EOSLuaEnvironment::callFunction" ref="dad2df9fe00ab74fa40f61e65b64d041" args="(int nArgs, int nReturns=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EOSLuaEnvironment::callFunction           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nReturns</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
calls a Lua function loaded in Lua stack 
<p>

</div>
</div><p>
<a class="anchor" name="f0ec64cece3cb022704af6aab5377bbf"></a><!-- doxytag: member="EOSLuaEnvironment::getLuaValueAsString" ref="f0ec64cece3cb022704af6aab5377bbf" args="(const char *luaVarName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * EOSLuaEnvironment::getLuaValueAsString           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>luaVarName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns a value from Lua runtime, in string format 
<p>

</div>
</div><p>
<a class="anchor" name="f0e9201ab81ce4be089f0f99197a06b1"></a><!-- doxytag: member="EOSLuaEnvironment::getLuaState" ref="f0e9201ab81ce4be089f0f99197a06b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lua_State* EOSLuaEnvironment::getLuaState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the pointer to the Lua interpreter environment. 
<p>

</div>
</div><p>
<a class="anchor" name="cfd50ba33863147fab881765110410c0"></a><!-- doxytag: member="EOSLuaEnvironment::vmPanic" ref="cfd50ba33863147fab881765110410c0" args="(lua_State *lua)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EOSLuaEnvironment::vmPanic           </td>
          <td>(</td>
          <td class="paramtype">lua_State *&nbsp;</td>
          <td class="paramname"> <em>lua</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
emergency method called in case of Lua interpreter panic 
<p>

</div>
</div><p>
<a class="anchor" name="b56241a405c111658211cab0706fff71"></a><!-- doxytag: member="EOSLuaEnvironment::isOk" ref="b56241a405c111658211cab0706fff71" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EOSLuaEnvironment::isOk           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if the VM is OK and can be still used. 
<p>

</div>
</div><p>
<a class="anchor" name="8d4d4493b7762dc75eedcd5c5313b472"></a><!-- doxytag: member="EOSLuaEnvironment::handleError" ref="8d4d4493b7762dc75eedcd5c5313b472" args="(lua_State *lua, int errorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EOSLuaEnvironment::handleError           </td>
          <td>(</td>
          <td class="paramtype">lua_State *&nbsp;</td>
          <td class="paramname"> <em>lua</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>errorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
this function dumps detailed runtime Lua errors on stderr 
<p>

</div>
</div><p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="0658d1e689f5a6cccdf4456a6a938b6f"></a><!-- doxytag: member="EOSLuaEnvironment::luaState" ref="0658d1e689f5a6cccdf4456a6a938b6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lua_State* <a class="el" href="classEOSLuaEnvironment.html#0658d1e689f5a6cccdf4456a6a938b6f">EOSLuaEnvironment::luaState</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lua interpreter environment. 
<p>

</div>
</div><p>
<a class="anchor" name="575f4654bd2650a110661fd4e4d56a6d"></a><!-- doxytag: member="EOSLuaEnvironment::allOk" ref="575f4654bd2650a110661fd4e4d56a6d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classEOSLuaEnvironment.html#575f4654bd2650a110661fd4e4d56a6d">EOSLuaEnvironment::allOk</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sanity-status flag 
<p>

</div>
</div><p>
<a class="anchor" name="38958bc6b0b6e68b9a66b6e9ff21f5ec"></a><!-- doxytag: member="EOSLuaEnvironment::tempValueString" ref="38958bc6b0b6e68b9a66b6e9ff21f5ec" args="[1024]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classEOSLuaEnvironment.html#38958bc6b0b6e68b9a66b6e9ff21f5ec">EOSLuaEnvironment::tempValueString</a>[1024]<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
temporary buffer used by getLuaValueAsString 
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="EOSLuaEnvironment_8h-source.html">EOSLuaEnvironment.h</a><li><a class="el" href="EOSLuaEnvironment_8cpp.html">EOSLuaEnvironment.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 22 19:55:59 2009 for EOSKernel by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7 </small></address>
</body>
</html>
